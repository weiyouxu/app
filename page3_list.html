<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<script src="js/mui.min.js"></script>
	
	</head>

	<body>
		<!--下拉刷新容器-->
		<div id="refreshContainer" class="mui-content mui-scroll-wrapper">
			<div class="mui-scroll">
				<div id="slider" class="mui-slider" >
				    <div class="mui-slider-group mui-slider-loop">
				    <!-- 额外增加的一个节点(循环轮播：第一个节点是最后一张轮播) -->
				    <div class="mui-slider-item mui-slider-item-duplicate">
				      <a href="#">
				        <img src="img/cbd.jpg">
				      </a>
				    </div>
				    <!-- 第一张 -->
				    <div class="mui-slider-item">
				      <a href="#">
				        <img src="img/muwu.jpg">
				      </a>
				    </div>
				    <!-- 第二张 -->
				    <div class="mui-slider-item">
				      <a href="#">
				        <img src="img/shuijiao.jpg">
				      </a>
				    </div>
				    <!-- 第三张 -->
				    <div class="mui-slider-item">
				      <a href="#">
				        <img src="img/yuantiao.jpg">
				      </a>
				    </div>
				    <!-- 第四张 -->
				    <div class="mui-slider-item">
				      <a href="#">
				        <img src="img/cbd.jpg">
				      </a>
				    </div>
				    <!-- 额外增加的一个节点(循环轮播：最后一个节点是第一张轮播) -->
				    <div class="mui-slider-item mui-slider-item-duplicate">
				      <a href="#">
				        <img src="img/muwu.jpg">
				      </a>
				    </div>
				  </div>
				    <div class="mui-slider-indicator">
					    <div class="mui-indicator mui-active"></div>
					    <div class="mui-indicator"></div>
					    <div class="mui-indicator"></div>
					    <div class="mui-indicator"></div>
				  </div>
				</div>
		  	
			    <!--数据列表-->
			    <ul class="mui-table-view">
			        <li class="mui-table-view-cell mui-media">
		                <img class="mui-media-object mui-pull-left" src="img/logo.png">
		                <div class="mui-media-body">
	                    	幸福
		                    <p class="mui-ellipsis">能和心爱的人一起睡觉，是件幸福的事情；可是，打呼噜怎么办？</p>
		                </div>
			        </li>
			    </ul>
			</div>
		</div>
		
		<script type="text/javascript">
			mui.init({
				gestureConfig:{
				   tap: true, //默认为true
				   doubletap: false, //默认为false
				   longtap: false, //默认为false
				   swipe: true, //默认为true
				   drag: true, //默认为true
				   hold:false,//默认为false，不监听
				   release:false//默认为false，不监听
				},
				// 下拉刷新,上啦加载
				pullRefresh:{
					container:"#refreshContainer",
					down:{
						contentdown:"下拉可以刷新...",
						contentover:"释放即可刷新...",
						contentrefresh:"正在刷新...",
						callback:pullDownRefresh
					},
					up:{
						contentdown:"下拉可以刷新...",
						contentover:"释放即可刷新...",
						contentrefresh:"正在刷新...",
						callback:pullUpRefresh
					}
				}
			});
			
			//ajax 拿数据 
			function pullDownRefresh (){
				setTimeout(function(){
					var table = document.querySelector("mui-table-view");
					for (var i = 0 ;i <3 ; i++) {
						var li = document.createElement("li");
						li.className = "mui-table-view-cell mui-media";
						
						var atr = "";
						atr += "<img class='mui-media-object mui-pull-left' src='img/logo.png'>";
		                atr += "<div class='mui-media-body'>";
	                    atr += "幸福";
		                atr += "<p class='mui-ellipsis'>能和心爱的人一起睡觉，是件幸福的事情；可是，打呼噜怎么办？</p>";
		                atr += "</div>";
						
						li.innerHTML = atr;
						table.insertBefore(li,table.firstChild);
					}
					mui("#refreshContainer").pullRefresh().endPulldownToRefresh();
				},1000);	
			};
			
			function pullUpRefresh (){
				setTimeout(function(){
					var table = document.querySelector("mui-table-view");
					for (var i = 0 ;i <3 ; i++) {
						var li = document.createElement("li");
						li.className = "mui-table-view-cell mui-media";
						
						var atr = "";
						atr += "<img class='mui-media-object mui-pull-left' src='img/logo.png'>";
		                atr += "<div class='mui-media-body'>";
	                    atr += "幸福";
		                atr += "<p class='mui-ellipsis'>能和心爱的人一起睡觉，是件幸福的事情；可是，打呼噜怎么办？</p>";
		                atr += "</div>";
						
						li.innerHTML = atr;
						table.appendChild(li);
					}
					mui("#refreshContainer").pullRefresh().endPullupToRefresh();
				},1000)
			}
		</script>
	</body>

</html>