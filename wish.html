<!doctype html>
<html>

	<head>
		<meta charset="UTF-8">
		<title></title>
		<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1,user-scalable=no" />
		<link href="css/mui.min.css" rel="stylesheet" />
		<link rel="stylesheet" type="text/css" href="css/main.css"/>
		<link rel="stylesheet" type="text/css" href="css/wish.css"/>
		<script src="js/jquery-1.7.2.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/TimelineLite.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/TimelineMax.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/TweenLite.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/TweenMax.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/mui.min.js"></script>
		<script type="text/javascript">
			mui.init()
		</script>
	</head>

	<body>
		<!-- 心愿单页面 -->
		<!--主体-->
		<div class="mui-content">
			<div class="carBox">
				<div class="car1"></div>  
				<div class="car2"></div>
				<div class="car3"></div>
				<img id=""  onclick="clickLeftOpen()" class="carDoorLeft" src="img/wish/left_door.png" >
				
				<img id=""  onclick="clickLeftClose()" class="carDoorLeft2" src="img/wish/left_door.png" >
				
				<img id="" onclick="clickRightOpen()" class="carDoorRight" src="img/wish/right_door.png" >
				<img id="" onclick="clickRightClose()" class="carDoorRight2" src="img/wish/right_door.png" >
			</div>
		</div>
		<!--主体-->
		<script type="text/javascript"> 
// 			
// 			mui.plusReady(function(){
// 				
// 			});

// 			//实现图片的预加载
// 			function preloadImg(srcArr){
// 				if(srcArr instanceof Array){
// 					for(var i=0; i<srcArr.length; i++){
// 						var oImg = new Image();
// 						oImg.src = srcArr[i];
// 					}
// 				}
// 			}
// 			var arr = [];
// 			var arr2 = [];
// 			for(var j = 0; j<60;j++){
// 				if(j<10){
// 					j = "0"+j;
// 				}else{
// 					j = j
// 				}
// 				arr.push("img/wish/left/leftwingdoor00"+j+".png");
// 				arr2.push("img/wish/right/rightwingdoor00"+j+".png")
// 				// console.log(arr)
// 			}
// 			//预加载图片
// 			preloadImg(arr);
// 			preloadImg(arr2);
			
			var imgar = [];
			var imgar2 = [];
		    function eightimg(){
			    for(o=0;o<60;o++){
			    	imgar[o] = new Image();
					imgar2[o] = new Image();
			        imgar[o].src = "img/wish/left/leftwingdoor00"+o+".png"; 
					imgar2[o].src = "img/wish/right/rightwingdoor00"+o+".png"; 
			        imgar[o].onload=function(){
				        this.width = 1280;
				        this.height =720;
			       };
					imgar2[o].onload=function(){
				        this.width = 1280;
				        this.height =720;
			       } 
			     }
		    }
			eightimg(); 
			
			// 左门动画
			var tl1 = new TimelineMax({});
			var t = 0.02;
			for(var i = 0; i<60;i++){
				if(i<10){
					i = "0"+i;
				}else{
					i = i;
				}
				tl1.to($('.car2'), t, { "background-image": "url('img/wish/left/leftwingdoor00"+i+".png')"  });
			}
			tl1.stop();
			
			function clickLeftOpen(){
				tl1.play();
			}
			function clickLeftClose(){
				tl1.reverse();
			}
			// 左门动画
			 
			// 右门动画
			var tl2 = new TimelineMax({});
			var t2 = 0.02;
			for(var k = 0; k<60;k++){
				if(k<10){
					k = "0"+k;
				}else{
					k = k;
				}
				tl2.to($('.car3'), t2, { "background-image": "url('img/wish/right/rightwingdoor00"+k+".png')"  });
			}
			tl2.stop();
			
			function clickRightOpen(){
				tl2.play();
			}
			function clickRightClose(){
				tl2.reverse();
			}
			// 右门动画
		</script>
	</body>

</html>